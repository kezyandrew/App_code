{"version":3,"file":"rating.js","sources":["../../src/components/rating.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAO,EACL,SAAS,EACT,KAAK,EACL,MAAM,EACN,YAAY,EACZ,UAAU,EACX,MAAM,eAAe,CAAC;AACvB,OAAO,EAAwB,iBAAiB,EAAE,MAAM,gBAAgB,CAAC;AAwCzE;AAAmD,IAtCnD;AACgB,QA2Cd,SAAI,GAAW,SAAS,CAAC;AAC3B,QACE,eAAU,GAAyB,IAAI,YAAY,EAAE,CAAC;AACxD,IAwBA,CAAC;AACD,wBAlCa,eAAe;AAAE,IAY5B,iCAAO,GAAP,UAAQ,IAAI;AACd,QAAI,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;AACrB,QAAI,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AACpC,QAAI,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AAC9B,IAAE,CAAC;AAEH,IAAE,oCAAU,GAAV,UAAW,KAAU;AAAI,QACvB,IAAI,KAAK,KAAK,SAAS,EAAE;AAC7B,YAAM,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;AACxB,SAAK;AACL,IAAE,CAAC;AAEH,IAAE,0CAAgB,GAAhB,UAAiB,EAAoB;AAAI,QACvC,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;AACxB,IAAE,CAAC;AAEH,IAAE,2CAAiB,GAAjB,UAAkB,EAAO,IAAS,CAAC;AAErC,IAAE,0CAAgB,GAAhB,UAAkB,UAAmB;AAAI,QACvC,IAAI,CAAC,QAAQ,GAAG,UAAU,CAAC;AAC/B,IAAE,CAAC;AACF;AACyB,IAhCxB;AAAa,QADZ,KAAK,EAAE;AACT;AAEe,iDAFD;AACd,IACC;AAAa,QADZ,KAAK,EAAE;AACT;AAEW,qDAFQ;AACnB,IACC;AAAa,QADZ,KAAK,EAAE;AACT;AAEE,iDAFwB;AAC1B,IACC;AAAa,QADZ,MAAM,EAAE;AACV,kCAAa,YAAY;AAAE,uDAA4B;IAR3C,eAAe,4CAtC3B,SAAS,CAAC,cACT,QAAQ,EAAE;IAAQ,cAClB,QAAQ,EAAE;;;;;;0CAOT,cACD,MAAM,EAAE,kBACN;wBAiBC,cACF;GACD,SAAS,EAAE,kBACT,sBACE,OAAO,EAAE,iBAAiB;UAC1B,WAAW,EAAE;EAAU,CAAC,cAAM;IAAA,iBAAe,EAAf,CAAe,CAAC;kBAC9C,KAAK,EAAE,IAAI,kBACZ,cACF;CACF,CAAC,QACW,eAAe,CAiC3B;;;;;;;;;;;;;;;;;;;;;;;;;oBACD;AAAC,IADD,sBAAC;AACA,CADA,AAjCD,IAiCC;AACD,SAlCa,eAAe;AAAI","sourcesContent":["import {\r\n  Component,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  forwardRef\r\n} from \"@angular/core\";\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from \"@angular/forms\";\r\n\r\n@Component({\r\n  selector: \"rating\",\r\n  template: `\r\n    <ion-buttons>\r\n      <ion-button [disabled]=\"readonly\" fill=\"clear\" [size]=\"size\" *ngFor=\"let current of [1, 2, 3, 4, 5]; let i = index\"\r\n        (click)=\"onClick(i + 1)\" (mouseover)=\"hoverRate = i + 1\" (mouseleave)=\"hoverRate = 0\">\r\n        <ion-icon slot=\"icon-only\" name=\"star\" [class.filled]=\"(i + 1 <= hoverRate || (!hoverRate && i + 1 <= rate))\"></ion-icon>\r\n      </ion-button>\r\n    </ion-buttons>\r\n  `,\r\n  styles: [\r\n    `\r\n      ion-buttons {\r\n        display: flex;\r\n        justify-content: center;\r\n      }\r\n\r\n      [ion-button][disabled] {\r\n        opacity: 1;\r\n      }\r\n\r\n      ion-icon {\r\n        color: gray;\r\n      }\r\n\r\n      ion-icon.filled {\r\n        color: orange;\r\n      }\r\n    `\r\n  ],\r\n  providers: [\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      useExisting: forwardRef(() => RatingComponent),\r\n      multi: true\r\n    }\r\n  ]\r\n})\r\nexport class RatingComponent implements ControlValueAccessor {\r\n  @Input()\r\n  rate: number;\r\n  @Input()\r\n  readonly: boolean;\r\n  @Input()\r\n  size: string = 'default';\r\n  @Output()\r\n  rateChange: EventEmitter<number> = new EventEmitter();\r\n  hoverRate: number;\r\n  _onChange: Function;\r\n\r\n  onClick(rate) {\r\n    this.rate = rate;\r\n    this.rateChange.emit(this.rate);\r\n    this._onChange(this.rate);\r\n  }\r\n\r\n  writeValue(value: any): void {\r\n    if (value !== undefined) {\r\n      this.rate = value;\r\n    }\r\n  }\r\n\r\n  registerOnChange(fn: (_: any) => void): void {\r\n    this._onChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: any): void {}\r\n\r\n  setDisabledState?(isDisabled: boolean): void {\r\n    this.readonly = isDisabled;\r\n  }\r\n}\r\n"]}
import { __decorate, __extends } from "tslib";
import { Injectable } from '@angular/core';
import { IonicNativePlugin, cordova } from '@ionic-native/core';
import { Observable } from 'rxjs';
/**
 * **ANDROID** - Privacy setting for how the notification should be shown on the lockscreen of Android 5+ devices.
 */
export var OSLockScreenVisibility;
(function (OSLockScreenVisibility) {
    /**
     * Fully visible (default)
     */
    OSLockScreenVisibility[OSLockScreenVisibility["Public"] = 1] = "Public";
    /**
     * Contents are hidden
     */
    OSLockScreenVisibility[OSLockScreenVisibility["Private"] = 0] = "Private";
    /**
     * Not shown
     */
    OSLockScreenVisibility[OSLockScreenVisibility["Secret"] = -1] = "Secret";
})(OSLockScreenVisibility || (OSLockScreenVisibility = {}));
/**
 * How the notification was displayed to the user. Part of OSNotification. See inFocusDisplaying for more information on how this is used.
 */
export var OSDisplayType;
(function (OSDisplayType) {
    /**
     * notification is silent, or inFocusDisplaying is disabled.
     */
    OSDisplayType[OSDisplayType["None"] = 0] = "None";
    /**
     * (**DEFAULT**) - native alert dialog display.
     */
    OSDisplayType[OSDisplayType["InAppAlert"] = 1] = "InAppAlert";
    /**
     * native notification display.
     */
    OSDisplayType[OSDisplayType["Notification"] = 2] = "Notification";
})(OSDisplayType || (OSDisplayType = {}));
export var OSActionType;
(function (OSActionType) {
    OSActionType[OSActionType["Opened"] = 0] = "Opened";
    OSActionType[OSActionType["ActionTake"] = 1] = "ActionTake";
})(OSActionType || (OSActionType = {}));
var OneSignal = /** @class */ (function (_super) {
    __extends(OneSignal, _super);
    function OneSignal() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        /**
         * constants to use in inFocusDisplaying()
         * @hidden
         */
        _this.OSInFocusDisplayOption = {
            None: 0,
            InAppAlert: 1,
            Notification: 2,
        };
        return _this;
    }
    OneSignal.prototype.startInit = function (appId, googleProjectNumber) { return cordova(this, "startInit", { "sync": true }, arguments); };
    OneSignal.prototype.handleNotificationReceived = function () { return cordova(this, "handleNotificationReceived", { "observable": true }, arguments); };
    OneSignal.prototype.handleNotificationOpened = function () { return cordova(this, "handleNotificationOpened", { "observable": true }, arguments); };
    OneSignal.prototype.iOSSettings = function (settings) { return cordova(this, "iOSSettings", { "sync": true, "platforms": ["iOS"] }, arguments); };
    OneSignal.prototype.endInit = function () { return cordova(this, "endInit", { "sync": true }, arguments); };
    OneSignal.prototype.promptForPushNotificationsWithUserResponse = function () { return cordova(this, "promptForPushNotificationsWithUserResponse", { "platforms": ["iOS"] }, arguments); };
    OneSignal.prototype.getTags = function () { return cordova(this, "getTags", {}, arguments); };
    OneSignal.prototype.getIds = function () { return cordova(this, "getIds", {}, arguments); };
    OneSignal.prototype.sendTag = function (key, value) { return cordova(this, "sendTag", { "sync": true }, arguments); };
    OneSignal.prototype.sendTags = function (json) { return cordova(this, "sendTags", { "sync": true }, arguments); };
    OneSignal.prototype.deleteTag = function (key) { return cordova(this, "deleteTag", { "sync": true }, arguments); };
    OneSignal.prototype.deleteTags = function (keys) { return cordova(this, "deleteTags", { "sync": true }, arguments); };
    OneSignal.prototype.registerForPushNotifications = function () { return cordova(this, "registerForPushNotifications", { "sync": true }, arguments); };
    OneSignal.prototype.enableVibrate = function (enable) { return cordova(this, "enableVibrate", { "sync": true }, arguments); };
    OneSignal.prototype.enableSound = function (enable) { return cordova(this, "enableSound", { "sync": true }, arguments); };
    OneSignal.prototype.inFocusDisplaying = function (displayOption) { return cordova(this, "inFocusDisplaying", { "sync": true }, arguments); };
    OneSignal.prototype.setSubscription = function (enable) { return cordova(this, "setSubscription", { "sync": true }, arguments); };
    OneSignal.prototype.getPermissionSubscriptionState = function () { return cordova(this, "getPermissionSubscriptionState", {}, arguments); };
    OneSignal.prototype.postNotification = function (notificationObj) { return cordova(this, "postNotification", {}, arguments); };
    OneSignal.prototype.cancelNotification = function (notificationId) { return cordova(this, "cancelNotification", { "sync": true }, arguments); };
    OneSignal.prototype.promptLocation = function () { return cordova(this, "promptLocation", { "sync": true }, arguments); };
    OneSignal.prototype.syncHashedEmail = function (email) { return cordova(this, "syncHashedEmail", { "sync": true }, arguments); };
    OneSignal.prototype.setLogLevel = function (logLevel) { return cordova(this, "setLogLevel", { "sync": true }, arguments); };
    OneSignal.prototype.setLocationShared = function (shared) { return cordova(this, "setLocationShared", { "sync": true }, arguments); };
    OneSignal.prototype.addPermissionObserver = function () { return cordova(this, "addPermissionObserver", { "observable": true }, arguments); };
    OneSignal.prototype.addSubscriptionObserver = function () { return cordova(this, "addSubscriptionObserver", { "observable": true }, arguments); };
    OneSignal.prototype.setEmail = function (email, emailAuthToken) { return cordova(this, "setEmail", {}, arguments); };
    OneSignal.prototype.logoutEmail = function () { return cordova(this, "logoutEmail", {}, arguments); };
    OneSignal.prototype.addEmailSubscriptionObserver = function () { return cordova(this, "addEmailSubscriptionObserver", { "observable": true }, arguments); };
    OneSignal.prototype.clearOneSignalNotifications = function () { return cordova(this, "clearOneSignalNotifications", { "sync": true }, arguments); };
    OneSignal.prototype.setRequiresUserPrivacyConsent = function (required) { return cordova(this, "setRequiresUserPrivacyConsent", {}, arguments); };
    OneSignal.prototype.provideUserConsent = function (granted) { return cordova(this, "provideUserConsent", {}, arguments); };
    OneSignal.prototype.userProvidedPrivacyConsent = function (callback) { return cordova(this, "userProvidedPrivacyConsent", {}, arguments); };
    OneSignal.prototype.setExternalUserId = function (externalId) { return cordova(this, "setExternalUserId", {}, arguments); };
    OneSignal.prototype.removeExternalUserId = function () { return cordova(this, "removeExternalUserId", {}, arguments); };
    OneSignal.pluginName = "OneSignal";
    OneSignal.plugin = "onesignal-cordova-plugin";
    OneSignal.pluginRef = "plugins.OneSignal";
    OneSignal.repo = "https://github.com/OneSignal/OneSignal-Cordova-SDK";
    OneSignal.platforms = ["Amazon Fire OS", "Android", "iOS", "Windows"];
    OneSignal = __decorate([
        Injectable()
    ], OneSignal);
    return OneSignal;
}(IonicNativePlugin));
export { OneSignal };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvQGlvbmljLW5hdGl2ZS9wbHVnaW5zL29uZXNpZ25hbC9uZ3gvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDM0MsT0FBTyw4QkFBc0MsTUFBTSxvQkFBb0IsQ0FBQztBQUN4RSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBMEZsQzs7R0FFRztBQUNILE1BQU0sQ0FBTixJQUFZLHNCQWFYO0FBYkQsV0FBWSxzQkFBc0I7SUFDaEM7O09BRUc7SUFDSCx1RUFBVSxDQUFBO0lBQ1Y7O09BRUc7SUFDSCx5RUFBVyxDQUFBO0lBQ1g7O09BRUc7SUFDSCx3RUFBVyxDQUFBO0FBQ2IsQ0FBQyxFQWJXLHNCQUFzQixLQUF0QixzQkFBc0IsUUFhakM7QUFFRDs7R0FFRztBQUNILE1BQU0sQ0FBTixJQUFZLGFBYVg7QUFiRCxXQUFZLGFBQWE7SUFDdkI7O09BRUc7SUFDSCxpREFBUSxDQUFBO0lBQ1I7O09BRUc7SUFDSCw2REFBYyxDQUFBO0lBQ2Q7O09BRUc7SUFDSCxpRUFBZ0IsQ0FBQTtBQUNsQixDQUFDLEVBYlcsYUFBYSxLQUFiLGFBQWEsUUFheEI7QUE4S0QsTUFBTSxDQUFOLElBQVksWUFHWDtBQUhELFdBQVksWUFBWTtJQUN0QixtREFBVSxDQUFBO0lBQ1YsMkRBQWMsQ0FBQTtBQUNoQixDQUFDLEVBSFcsWUFBWSxLQUFaLFlBQVksUUFHdkI7O0lBa0g4Qiw2QkFBaUI7OztRQUM5Qzs7O1dBR0c7UUFDSCw0QkFBc0IsR0FBRztZQUN2QixJQUFJLEVBQUUsQ0FBQztZQUNQLFVBQVUsRUFBRSxDQUFDO1lBQ2IsWUFBWSxFQUFFLENBQUM7U0FDaEIsQ0FBQzs7O0lBVUYsNkJBQVMsYUFBQyxLQUFhLEVBQUUsbUJBQTRCO0lBWXJELDhDQUEwQjtJQWMxQiw0Q0FBd0I7SUFtQnhCLCtCQUFXLGFBQUMsUUFBc0Y7SUFVbEcsMkJBQU87SUFXUCw4REFBMEM7SUFZMUMsMkJBQU87SUFlUCwwQkFBTTtJQVlOLDJCQUFPLGFBQUMsR0FBVyxFQUFFLEtBQWE7SUFTbEMsNEJBQVEsYUFBQyxJQUFTO0lBUWxCLDZCQUFTLGFBQUMsR0FBVztJQVFyQiw4QkFBVSxhQUFDLElBQWM7SUFPekIsZ0RBQTRCO0lBWTVCLGlDQUFhLGFBQUMsTUFBZTtJQVk3QiwrQkFBVyxhQUFDLE1BQWU7SUFVM0IscUNBQWlCLGFBQUMsYUFBNEI7SUFXOUMsbUNBQWUsYUFBQyxNQUFlO0lBUS9CLGtEQUE4QjtJQVU5QixvQ0FBZ0IsYUFBQyxlQUErQjtJQVNoRCxzQ0FBa0IsYUFBQyxjQUFzQjtJQU16QyxrQ0FBYztJQU9kLG1DQUFlLGFBQUMsS0FBYTtJQVc3QiwrQkFBVyxhQUFDLFFBQW1EO0lBTy9ELHFDQUFpQixhQUFDLE1BQWU7SUFhakMseUNBQXFCO0lBZ0JyQiwyQ0FBdUI7SUFRdkIsNEJBQVEsYUFBQyxLQUFhLEVBQUUsY0FBdUI7SUFRL0MsK0JBQVc7SUFnQlgsZ0RBQTRCO0lBUTVCLCtDQUEyQjtJQVEzQixpREFBNkIsYUFBQyxRQUFpQjtJQVEvQyxzQ0FBa0IsYUFBQyxPQUFnQjtJQU9uQyw4Q0FBMEIsYUFBQyxRQUFrQjtJQVE3QyxxQ0FBaUIsYUFBQyxVQUFrQjtJQU1wQyx3Q0FBb0I7Ozs7OztJQTdXVCxTQUFTO1FBRHJCLFVBQVUsRUFBRTtPQUNBLFNBQVM7b0JBamF0QjtFQWlhK0IsaUJBQWlCO1NBQW5DLFNBQVMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDb3Jkb3ZhLCBJb25pY05hdGl2ZVBsdWdpbiwgUGx1Z2luIH0gZnJvbSAnQGlvbmljLW5hdGl2ZS9jb3JlJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcblxuZXhwb3J0IGludGVyZmFjZSBPU05vdGlmaWNhdGlvbiB7XG4gIC8qKlxuICAgKiBXYXMgYXBwIGluIGZvY3VzLlxuICAgKi9cbiAgaXNBcHBJbkZvY3VzPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIFdhcyBub3RpZmljYXRpb24gc2hvd24gdG8gdGhlIHVzZXIuIFdpbGwgYmUgZmFsc2UgZm9yIHNpbGVudCBub3RpZmljYXRpb25zLlxuICAgKi9cbiAgc2hvd24/OiBib29sZWFuO1xuICAvKipcbiAgICogKipBTkRST0lEKiogLSBBbmRyb2lkIE5vdGlmaWNhdGlvbiBhc3NpZ25lZCB0byB0aGUgbm90aWZpY2F0aW9uLiBDYW4gYmUgdXNlZCB0byBjYW5jZWwgb3IgcmVwbGFjZSB0aGUgbm90aWZpY2F0aW9uLlxuICAgKi9cbiAgYW5kcm9pZE5vdGlmaWNhdGlvbklkPzogbnVtYmVyO1xuICAvKipcbiAgICogUGF5bG9hZCByZWNlaXZlZCBmcm9tIE9uZVNpZ25hbC5cbiAgICovXG4gIHBheWxvYWQ/OiBPU05vdGlmaWNhdGlvblBheWxvYWQ7XG4gIC8qKlxuICAgKiBIb3cgdGhlIG5vdGlmaWNhdGlvbiB3YXMgZGlzcGxheWVkIHRvIHRoZSB1c2VyLiBDYW4gYmUgc2V0IHRvIGBOb3RpZmljYXRpb25gLCBgSW5BcHBBbGVydGAsIG9yIGBOb25lYCBpZiBpdCB3YXMgbm90IGRpc3BsYXllZC5cbiAgICovXG4gIGRpc3BsYXlUeXBlPzogT1NEaXNwbGF5VHlwZTtcbiAgLyoqXG4gICAqICoqQU5EUk9JRCoqIC0gTm90aWZpY2F0aW9uIGlzIGEgc3VtbWFyeSBub3RpZmljYXRpb24gZm9yIGEgZ3JvdXAgdGhpcyB3aWxsIGNvbnRhaW4gYWxsIG5vdGlmaWNhdGlvbiBwYXlsb2FkcyBpdCB3YXMgY3JlYXRlZCBmcm9tLlxuICAgKi9cbiAgZ3JvdXBlZE5vdGlmaWNhdGlvbnM/OiBPU05vdGlmaWNhdGlvblBheWxvYWRbXTtcbiAgYXBwX2lkPzogc3RyaW5nO1xuICBjb250ZW50cz86IGFueTtcbiAgaGVhZGluZ3M/OiBhbnk7XG4gIGlzSW9zPzogYm9vbGVhbjtcbiAgaXNBbmRyb2lkPzogYm9vbGVhbjtcbiAgaXNXUD86IGJvb2xlYW47XG4gIGlzV1BfV05TPzogYm9vbGVhbjtcbiAgaXNBZG0/OiBib29sZWFuO1xuICBpc0Nocm9tZT86IGJvb2xlYW47XG4gIGlzQ2hyb21lV2ViPzogYm9vbGVhbjtcbiAgaXNTYWZhcmk/OiBib29sZWFuO1xuICBpc0FueVdlYj86IGJvb2xlYW47XG4gIGluY2x1ZGVkX3NlZ21lbnRzPzogc3RyaW5nW107XG4gIGV4Y2x1ZGVkX3NlZ21lbnRzPzogc3RyaW5nW107XG4gIGluY2x1ZGVfcGxheWVyX2lkcz86IHN0cmluZ1tdO1xuICBpbmNsdWRlX2lvc190b2tlbnM/OiBzdHJpbmdbXTtcbiAgaW5jbHVkZV9hbmRyb2lkX3JlZ19pZHM/OiBzdHJpbmdbXTtcbiAgaW5jbHVkZV93cF91cmlzPzogc3RyaW5nW107XG4gIGluY2x1ZGVfd3Bfd25zX3VyaXM/OiBzdHJpbmdbXTtcbiAgaW5jbHVkZV9hbWF6b25fcmVnX2lkcz86IHN0cmluZ1tdO1xuICBpbmNsdWRlX2Nocm9tZV9yZWdfaWRzPzogc3RyaW5nW107XG4gIGluY2x1ZGVfY2hyb21lX3dlYl9yZWdfaWRzPzogc3RyaW5nW107XG4gIGFwcF9pZHM/OiBzdHJpbmdbXTtcbiAgdGFncz86IGFueVtdO1xuICBpb3NfYmFkZ2VUeXBlPzogc3RyaW5nO1xuICBpb3NfYmFkZ2VDb3VudD86IG51bWJlcjtcbiAgaW9zX3NvdW5kPzogc3RyaW5nO1xuICBhbmRyb2lkX3NvdW5kPzogc3RyaW5nO1xuICBhZG1fc291bmQ/OiBzdHJpbmc7XG4gIHdwX3NvdW5kPzogc3RyaW5nO1xuICB3cF93bnNfc291bmQ/OiBzdHJpbmc7XG4gIGRhdGE/OiBhbnk7XG4gIGJ1dHRvbnM/OiBhbnk7XG4gIGNvbGxhcHNlX2lkPzogc3RyaW5nO1xuICBzbWFsbF9pY29uPzogc3RyaW5nO1xuICBsYXJnZV9pY29uPzogc3RyaW5nO1xuICBiaWdfcGljdHVyZT86IHN0cmluZztcbiAgYWRtX3NtYWxsX2ljb24/OiBzdHJpbmc7XG4gIGFkbV9sYXJnZV9pY29uPzogc3RyaW5nO1xuICBhZG1fYmlnX3BpY3R1cmU/OiBzdHJpbmc7XG4gIGNocm9tZV9pY29uPzogc3RyaW5nO1xuICBjaHJvbWVfYmlnX3BpY3R1cmU/OiBzdHJpbmc7XG4gIGNocm9tZV93ZWJfaWNvbj86IHN0cmluZztcbiAgZmlyZWZveF9pY29uPzogc3RyaW5nO1xuICB1cmw/OiBzdHJpbmc7XG4gIHNlbmRfYWZ0ZXI/OiBzdHJpbmc7XG4gIGRlbGF5ZWRfb3B0aW9uPzogc3RyaW5nO1xuICBkZWxpdmVyeV90aW1lX29mX2RheT86IHN0cmluZztcbiAgYW5kcm9pZF9sZWRfY29sb3I/OiBzdHJpbmc7XG4gIGFuZHJvaWRfYWNjZW50X2NvbG9yPzogc3RyaW5nO1xuICBhbmRyb2lkX3Zpc2liaWxpdHk/OiBudW1iZXI7XG4gIGNvbnRlbnRfYXZhaWxhYmxlPzogYm9vbGVhbjtcbiAgYW1hem9uX2JhY2tncm91bmRfZGF0YT86IGJvb2xlYW47XG4gIHRlbXBsYXRlX2lkPzogc3RyaW5nO1xuICBhbmRyb2lkX2dyb3VwPzogc3RyaW5nO1xuICBhbmRyb2lkX2dyb3VwX21lc3NhZ2U/OiBhbnk7XG4gIGFkbV9ncm91cD86IHN0cmluZztcbiAgYWRtX2dyb3VwX21lc3NhZ2U/OiBhbnk7XG4gIHR0bD86IG51bWJlcjtcbiAgcHJpb3JpdHk/OiBudW1iZXI7XG4gIGlvc19jYXRlZ29yeT86IHN0cmluZztcbn1cblxuLyoqXG4gKiAqKkFORFJPSUQqKiAtIFByaXZhY3kgc2V0dGluZyBmb3IgaG93IHRoZSBub3RpZmljYXRpb24gc2hvdWxkIGJlIHNob3duIG9uIHRoZSBsb2Nrc2NyZWVuIG9mIEFuZHJvaWQgNSsgZGV2aWNlcy5cbiAqL1xuZXhwb3J0IGVudW0gT1NMb2NrU2NyZWVuVmlzaWJpbGl0eSB7XG4gIC8qKlxuICAgKiBGdWxseSB2aXNpYmxlIChkZWZhdWx0KVxuICAgKi9cbiAgUHVibGljID0gMSxcbiAgLyoqXG4gICAqIENvbnRlbnRzIGFyZSBoaWRkZW5cbiAgICovXG4gIFByaXZhdGUgPSAwLFxuICAvKipcbiAgICogTm90IHNob3duXG4gICAqL1xuICBTZWNyZXQgPSAtMSxcbn1cblxuLyoqXG4gKiBIb3cgdGhlIG5vdGlmaWNhdGlvbiB3YXMgZGlzcGxheWVkIHRvIHRoZSB1c2VyLiBQYXJ0IG9mIE9TTm90aWZpY2F0aW9uLiBTZWUgaW5Gb2N1c0Rpc3BsYXlpbmcgZm9yIG1vcmUgaW5mb3JtYXRpb24gb24gaG93IHRoaXMgaXMgdXNlZC5cbiAqL1xuZXhwb3J0IGVudW0gT1NEaXNwbGF5VHlwZSB7XG4gIC8qKlxuICAgKiBub3RpZmljYXRpb24gaXMgc2lsZW50LCBvciBpbkZvY3VzRGlzcGxheWluZyBpcyBkaXNhYmxlZC5cbiAgICovXG4gIE5vbmUgPSAwLFxuICAvKipcbiAgICogKCoqREVGQVVMVCoqKSAtIG5hdGl2ZSBhbGVydCBkaWFsb2cgZGlzcGxheS5cbiAgICovXG4gIEluQXBwQWxlcnQgPSAxLFxuICAvKipcbiAgICogbmF0aXZlIG5vdGlmaWNhdGlvbiBkaXNwbGF5LlxuICAgKi9cbiAgTm90aWZpY2F0aW9uID0gMixcbn1cblxuLyoqXG4gKiBDb250ZW50cyBhbmQgc2V0dGluZ3Mgb2YgdGhlIG5vdGlmaWNhdGlvbiB0aGUgdXNlciByZWNlaXZlZC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBPU05vdGlmaWNhdGlvblBheWxvYWQge1xuICAvKipcbiAgICogT25lU2lnbmFsIG5vdGlmaWNhdGlvbiBVVUlELlxuICAgKi9cbiAgbm90aWZpY2F0aW9uSUQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRpdGxlIG9mIHRoZSBub3RpZmljYXRpb24uXG4gICAqL1xuICB0aXRsZTogc3RyaW5nO1xuICAvKipcbiAgICogQm9keSBvZiB0aGUgbm90aWZpY2F0aW9uLlxuICAgKi9cbiAgYm9keTogc3RyaW5nO1xuICAvKipcbiAgICogQ3VzdG9tIGFkZGl0aW9uYWwgZGF0YSB0aGF0IHdhcyBzZW50IHdpdGggdGhlIG5vdGlmaWNhdGlvbi4gU2V0IG9uIHRoZSBkYXNoYm9hcmQgdW5kZXIgT3B0aW9ucyA+IEFkZGl0aW9uYWwgRGF0YVxuICAgKiBvciB3aXRoIHRoZSAnZGF0YScgZmllbGQgb24gdGhlIFJFU1QgQVBJLlxuICAgKi9cbiAgYWRkaXRpb25hbERhdGE/OiBhbnk7XG4gIC8qKlxuICAgKiAqKkFORFJPSUQqKiAtIFNtYWxsIGljb24gcmVzb3VyY2UgbmFtZSBzZXQgb24gdGhlIG5vdGlmaWNhdGlvbi5cbiAgICovXG4gIHNtYWxsSWNvbj86IHN0cmluZztcbiAgLyoqXG4gICAqICoqQU5EUk9JRCoqIC0gTGFyZ2UgaWNvbiBzZXQgb24gdGhlIG5vdGlmaWNhdGlvbi5cbiAgICovXG4gIGxhcmdlSWNvbj86IHN0cmluZztcbiAgLyoqXG4gICAqICoqQU5EUk9JRCoqIC0gQmlnIHBpY3R1cmUgaW1hZ2Ugc2V0IG9uIHRoZSBub3RpZmljYXRpb24uXG4gICAqL1xuICBiaWdQaWN0dXJlPzogc3RyaW5nO1xuICAvKipcbiAgICogKipBTkRST0lEKiogLSBBY2NlbnQgY29sb3Igc2hvd24gYXJvdW5kIHNtYWxsIG5vdGlmaWNhdGlvbiBpY29uIG9uIEFuZHJvaWQgNSsgZGV2aWNlcy4gQVJHQiBmb3JtYXQuXG4gICAqL1xuICBzbWFsbEljb25BY2NlbnRDb2xvcj86IHN0cmluZztcbiAgLyoqXG4gICAqIFVSTCB0byBvcGVuIHdoZW4gb3BlbmluZyB0aGUgbm90aWZpY2F0aW9uLlxuICAgKi9cbiAgbGF1bmNoVVJMPzogc3RyaW5nO1xuICAvKipcbiAgICogU291bmQgcmVzb3VyY2UgdG8gcGxheSB3aGVuIHRoZSBub3RpZmljYXRpb24gaXMgc2hvd24uXG4gICAqL1xuICBzb3VuZDogc3RyaW5nO1xuICAvKipcbiAgICogKipBTkRST0lEKiogLSBEZXZpY2VzIHRoYXQgaGF2ZSBhIG5vdGlmaWNhdGlvbiBMRUQgd2lsbCBibGluayBpbiB0aGlzIGNvbG9yLiBBUkdCIGZvcm1hdC5cbiAgICovXG4gIGxlZENvbG9yPzogc3RyaW5nO1xuICBsb2NrU2NyZWVuVmlzaWJpbGl0eT86IE9TTG9ja1NjcmVlblZpc2liaWxpdHk7XG4gIC8qKlxuICAgKiAqKkFORFJPSUQqKiAtIE5vdGlmaWNhdGlvbnMgd2l0aCB0aGlzIHNhbWUga2V5IHdpbGwgYmUgZ3JvdXBlZCB0b2dldGhlciBhcyBhIHNpbmdsZSBzdW1tYXJ5IG5vdGlmaWNhdGlvbi5cbiAgICovXG4gIGdyb3VwS2V5Pzogc3RyaW5nO1xuICAvKipcbiAgICogKipBTkRST0lEKiogLSBTdW1tYXJ5IHRleHQgZGlzcGxheWVkIGluIHRoZSBzdW1tYXJ5IG5vdGlmaWNhdGlvbi5cbiAgICovXG4gIGdyb3VwTWVzc2FnZT86IHN0cmluZztcbiAgLyoqXG4gICAqIExpc3Qgb2YgYWN0aW9uIGJ1dHRvbnMgb24gdGhlIG5vdGlmaWNhdGlvbi5cbiAgICovXG4gIGFjdGlvbkJ1dHRvbnM6IE9TQWN0aW9uQnV0dG9uW107XG4gIC8qKlxuICAgKiAqKkFORFJPSUQqKiAtIFRoZSBHb29nbGUgcHJvamVjdCBudW1iZXIgdGhlIG5vdGlmaWNhdGlvbiB3YXMgc2VudCB1bmRlci5cbiAgICovXG4gIGZyb21Qcm9qZWN0TnVtYmVyPzogc3RyaW5nO1xuICAvKipcbiAgICogKipBTkRST0lEKiogLSBJZiBhIGJhY2tncm91bmQgaW1hZ2Ugd2FzIHNldCB0aGlzIG9iamVjdCB3aWxsIGJlIGF2YWlsYWJsZS5cbiAgICovXG4gIGJhY2tncm91bmRJbWFnZUxheW91dD86IE9TQmFja2dyb3VuZEltYWdlTGF5b3V0O1xuICBwcmlvcml0eT86IG51bWJlcjtcbiAgLyoqXG4gICAqIExpc3Qgb2YgYWN0aW9uIGJ1dHRvbnMgb24gdGhlIG5vdGlmaWNhdGlvbi5cbiAgICovXG4gIHJhd1BheWxvYWQ6IHN0cmluZztcbn1cblxuLyoqXG4gKiBMaXN0IG9mIGFjdGlvbiBidXR0b25zIG9uIHRoZSBub3RpZmljYXRpb24uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgT1NBY3Rpb25CdXR0b24ge1xuICAvKipcbiAgICogSWQgYXNzaWduZWQgdG8gdGhlIGJ1dHRvbi5cbiAgICovXG4gIGlkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUZXh0IHNob3cgb24gdGhlIGJ1dHRvbiB0byB0aGUgdXNlci5cbiAgICovXG4gIHRleHQ6IHN0cmluZztcbiAgLyoqXG4gICAqICoqQU5EUk9JRCoqIC0gSWNvbiBzaG93biBvbiB0aGUgYnV0dG9uLlxuICAgKi9cbiAgaWNvbjogc3RyaW5nO1xufVxuXG4vKipcbiAqIE9TUGVybWlzc2lvblN0YXRlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgT1NQZXJtaXNzaW9uU3RhdGUge1xuICAvKipcbiAgICogVXNlciB3YXMgcHJvbXB0ZWQuXG4gICAqL1xuICBoYXNQcm9tcHRlZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqIFBlcm1pc3Npb25zIFN0YXR1cyAoaU9TIE9ubHkpXG4gICAqL1xuICBzdGF0dXM6IGFueTtcbiAgLyoqXG4gICAqIFBlcm1pc3Npb25zIFN0YXRlIChBbmRyb2lkIE9ubHkpXG4gICAqL1xuICBzdGF0ZTogYW55O1xufVxuXG4vKipcbiAqIE9TU3Vic2NyaXB0aW9uU3RhdGVcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBPU1N1YnNjcmlwdGlvblN0YXRlIHtcbiAgc3Vic2NyaWJlZDogYm9vbGVhbjtcbiAgdXNlclN1YnNjcmlwdGlvblNldHRpbmc6IGFueTtcbiAgdXNlcklkOiBhbnk7XG4gIHB1c2hUb2tlbjogYW55O1xufVxuXG4vKipcbiAqIFN1YnNjcmlwdGlvbiBhbmQgcGVybWlzc2lvbnMgc3RhdHVzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgT1NQZXJtaXNzaW9uU3Vic2NyaXB0aW9uU3RhdGUge1xuICAvKipcbiAgICogSWQgYXNzaWduZWQgdG8gdGhlIGJ1dHRvbi5cbiAgICovXG4gIHBlcm1pc3Npb25TdGF0dXM6IE9TUGVybWlzc2lvblN0YXRlO1xuICAvKipcbiAgICogVGV4dCBzaG93IG9uIHRoZSBidXR0b24gdG8gdGhlIHVzZXIuXG4gICAqL1xuICBzdWJzY3JpcHRpb25TdGF0dXM6IE9TU3Vic2NyaXB0aW9uU3RhdGU7XG59XG5cbi8qKlxuICogKipBTkRST0lEKiogLSBJZiBhIGJhY2tncm91bmQgaW1hZ2Ugd2FzIHNldCwgdGhpcyBvYmplY3Qgd2lsbCBiZSBhdmFpbGFibGUuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgT1NCYWNrZ3JvdW5kSW1hZ2VMYXlvdXQge1xuICAvKipcbiAgICogSW1hZ2UgVVJMIG9yIG5hbWUgdXNlZCBhcyB0aGUgYmFja2dyb3VuZCBpbWFnZS5cbiAgICovXG4gIGltYWdlOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUZXh0IGNvbG9yIG9mIHRoZSB0aXRsZSBvbiB0aGUgbm90aWZpY2F0aW9uLiBBUkdCIEZvcm1hdC5cbiAgICovXG4gIHRpdGxlVGV4dENvbG9yOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUZXh0IGNvbG9yIG9mIHRoZSBib2R5IG9uIHRoZSBub3RpZmljYXRpb24uIEFSR0IgRm9ybWF0LlxuICAgKi9cbiAgYm9keVRleHRDb2xvcjogc3RyaW5nO1xufVxuXG4vKipcbiAqIFRoZSBpbmZvcm1hdGlvbiByZXR1cm5lZCBmcm9tIGEgbm90aWZpY2F0aW9uIHRoZSB1c2VyIHJlY2VpdmVkLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIE9TTm90aWZpY2F0aW9uT3BlbmVkUmVzdWx0IHtcbiAgYWN0aW9uOiB7XG4gICAgLyoqXG4gICAgICogV2FzIHRoZSBub3RpZmljYXRpb24gb3BlbmVkIG5vcm1hbGx5IChgT3BlbmVkYCkgb3Igd2FzIGEgYnV0dG9uIHByZXNzZWQgb24gdGhlIG5vdGlmaWNhdGlvbiAoYEFjdGlvblRha2VuYCkuXG4gICAgICovXG4gICAgdHlwZTogT1NBY3Rpb25UeXBlO1xuICAgIC8qKlxuICAgICAqIElmIGB0eXBlYCA9PSBgQWN0aW9uVGFrZW5gIHRoZW4gdGhpcyB3aWxsIGNvbnRhaW4gdGhlIGlkIG9mIHRoZSBidXR0b24gcHJlc3NlZC5cbiAgICAgKi9cbiAgICBhY3Rpb25JRD86IHN0cmluZztcbiAgfTtcbiAgbm90aWZpY2F0aW9uOiBPU05vdGlmaWNhdGlvbjtcbn1cblxuZXhwb3J0IGVudW0gT1NBY3Rpb25UeXBlIHtcbiAgT3BlbmVkID0gMCxcbiAgQWN0aW9uVGFrZSA9IDEsXG59XG5cbi8qKlxuICogQG5hbWUgT25lU2lnbmFsXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBPbmVTaWduYWwgcGx1Z2luIGlzIGFuIGNsaWVudCBpbXBsZW1lbnRhdGlvbiBmb3IgdXNpbmcgdGhlIFtPbmVTaWduYWxdKGh0dHBzOi8vb25lc2lnbmFsLmNvbS8pIFNlcnZpY2UuXG4gKiBPbmVTaWduYWwgaXMgYSBzaW1wbGUgaW1wbGVtZW50YXRpb24gZm9yIGRlbGl2ZXJpbmcgcHVzaCBub3RpZmljYXRpb25zLlxuICpcbiAqIFBsZWFzZSB2aWV3IHRoZSBvZmZpY2lhbCBbT25lU2lnbmFsIElvbmljIFNESyBJbnN0YWxsYXRpb25dKGh0dHBzOi8vZG9jdW1lbnRhdGlvbi5vbmVzaWduYWwuY29tL2RvY3MvaW9uaWMtc2RrLXNldHVwKSBndWlkZVxuICogZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKlxuICogIyMjIyBJY29uc1xuICogSWYgeW91IHdhbnQgdG8gdXNlIGdlbmVyYXRlZCBpY29ucyB3aXRoIGNvbW1hbmQgYGlvbmljIGNvcmRvdmEgcmVzb3VyY2VzYDpcbiAqXG4gKiAxLiBBZGQgYSBmaWxlIHRvIHlvdXIgYGhvb2tzYCBkaXJlY3RvcnkgY2FsbGVkIGBjb3B5X2FuZHJvaWRfbm90aWZpY2F0aW9uX2ljb25zLmpzYFxuICpcbiAqIDIuIENvbmZpZ3VyZSB0aGUgaG9vayBpbiB5b3VyIGNvbmZpZy54bWxcbiAqIGBgYFxuICogICAgIDxwbGF0Zm9ybSBuYW1lPVwiYW5kcm9pZFwiPlxuICogICAgICAgICA8aG9vayB0eXBlPVwiYWZ0ZXJfcHJlcGFyZVwiIHNyYz1cImhvb2tzL2NvcHlfYW5kcm9pZF9ub3RpZmljYXRpb25faWNvbnMuanNcIiAvPlxuICogICAgIDwvcGxhdGZvcm0+XG4gKiBgYGBcbiAqXG4gKiAzLiBQdXQgdGhlIGZvbGxvd2luZyBjb2RlIGluIGl0OlxuICpcbiAqIGBgYFxuICogIyEvdXNyL2Jpbi9lbnYgbm9kZVxuICpcbiAqIHZhciBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG4gKiB2YXIgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcbiAqXG4gKiB2YXIgZmlsZXN0b2NvcHkgPSBbe1xuICogICAgIFwicmVzb3VyY2VzL2FuZHJvaWQvaWNvbi9kcmF3YWJsZS1oZHBpLWljb24ucG5nXCI6XG4gKiAgICAgICAgIFwicGxhdGZvcm1zL2FuZHJvaWQvYXBwL3NyYy9tYWluL3Jlcy9kcmF3YWJsZS1oZHBpL2ljX3N0YXRfb25lc2lnbmFsX2RlZmF1bHQucG5nXCJcbiAqIH0sIHtcbiAqICAgICBcInJlc291cmNlcy9hbmRyb2lkL2ljb24vZHJhd2FibGUtbWRwaS1pY29uLnBuZ1wiOlxuICogICAgICAgICBcInBsYXRmb3Jtcy9hbmRyb2lkL2FwcC9zcmMvbWFpbi9yZXMvZHJhd2FibGUtbWRwaS9pY19zdGF0X29uZXNpZ25hbF9kZWZhdWx0LnBuZ1wiXG4gKiB9LCB7XG4gKiAgICAgXCJyZXNvdXJjZXMvYW5kcm9pZC9pY29uL2RyYXdhYmxlLXhoZHBpLWljb24ucG5nXCI6XG4gKiAgICAgICAgIFwicGxhdGZvcm1zL2FuZHJvaWQvYXBwL3NyYy9tYWluL3Jlcy9kcmF3YWJsZS14aGRwaS9pY19zdGF0X29uZXNpZ25hbF9kZWZhdWx0LnBuZ1wiXG4gKiB9LCB7XG4gKiAgICAgXCJyZXNvdXJjZXMvYW5kcm9pZC9pY29uL2RyYXdhYmxlLXh4aGRwaS1pY29uLnBuZ1wiOlxuICogICAgICAgICBcInBsYXRmb3Jtcy9hbmRyb2lkL2FwcC9zcmMvbWFpbi9yZXMvZHJhd2FibGUteHhoZHBpL2ljX3N0YXRfb25lc2lnbmFsX2RlZmF1bHQucG5nXCJcbiAqIH0sIHtcbiAqICAgICBcInJlc291cmNlcy9hbmRyb2lkL2ljb24vZHJhd2FibGUteHh4aGRwaS1pY29uLnBuZ1wiOlxuICogICAgICAgICBcInBsYXRmb3Jtcy9hbmRyb2lkL2FwcC9zcmMvbWFpbi9yZXMvZHJhd2FibGUteHh4aGRwaS9pY19zdGF0X29uZXNpZ25hbF9kZWZhdWx0LnBuZ1wiXG4gKiB9IF07XG4gKlxuICogbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihjb250ZXh0KSB7XG4gKlxuICogICAgIC8vIG5vIG5lZWQgdG8gY29uZmlndXJlIGJlbG93XG4gKiAgICAgdmFyIHJvb3RkaXIgPSBjb250ZXh0Lm9wdHMucHJvamVjdFJvb3Q7XG4gKlxuICogICAgIGZpbGVzdG9jb3B5LmZvckVhY2goZnVuY3Rpb24ob2JqKSB7XG4gKiAgICAgICAgIE9iamVjdC5rZXlzKG9iaikuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAqICAgICAgICAgICAgIHZhciB2YWwgPSBvYmpba2V5XTtcbiAqICAgICAgICAgICAgIHZhciBzcmNmaWxlID0gcGF0aC5qb2luKHJvb3RkaXIsIGtleSk7XG4gKiAgICAgICAgICAgICB2YXIgZGVzdGZpbGUgPSBwYXRoLmpvaW4ocm9vdGRpciwgdmFsKTtcbiAqICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiY29weWluZyBcIitzcmNmaWxlK1wiIHRvIFwiK2Rlc3RmaWxlKTtcbiAqICAgICAgICAgICAgIHZhciBkZXN0ZGlyID0gcGF0aC5kaXJuYW1lKGRlc3RmaWxlKTtcbiAqICAgICAgICAgICAgIGlmIChmcy5leGlzdHNTeW5jKHNyY2ZpbGUpICYmIGZzLmV4aXN0c1N5bmMoZGVzdGRpcikpIHtcbiAqICAgICAgICAgICAgICAgICBmcy5jcmVhdGVSZWFkU3RyZWFtKHNyY2ZpbGUpLnBpcGUoXG4gKiAgICAgICAgICAgICAgICAgICAgIGZzLmNyZWF0ZVdyaXRlU3RyZWFtKGRlc3RmaWxlKSk7XG4gKiAgICAgICAgICAgICB9XG4gKiAgICAgICAgIH0pO1xuICogICAgIH0pO1xuICpcbiAqIH07XG4gKiBgYGBcbiAqXG4gKiAzLiBGcm9tIHRoZSByb290IG9mIHlvdXIgcHJvamVjdCBtYWtlIHRoZSBmaWxlIGV4ZWN1dGFibGU6XG4gKiBgJCBjaG1vZCAreCBob29rcy9jb3B5X2FuZHJvaWRfbm90aWZpY2F0aW9uX2ljb25zLmpzYFxuICpcbiAqXG4gKiBAdXNhZ2VcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7IE9uZVNpZ25hbCB9IGZyb20gJ0Bpb25pYy1uYXRpdmUvb25lc2lnbmFsL25neCc7XG4gKlxuICogY29uc3RydWN0b3IocHJpdmF0ZSBvbmVTaWduYWw6IE9uZVNpZ25hbCkgeyB9XG4gKlxuICogLi4uXG4gKlxuICogdGhpcy5vbmVTaWduYWwuc3RhcnRJbml0KCdiMmY3Zjk2Ni1kOGNjLTExZTQtYmVkMS1kZjhmMDViZTU1YmEnLCAnNzAzMzIyNzQ0MjYxJyk7XG4gKlxuICogdGhpcy5vbmVTaWduYWwuaW5Gb2N1c0Rpc3BsYXlpbmcodGhpcy5vbmVTaWduYWwuT1NJbkZvY3VzRGlzcGxheU9wdGlvbi5JbkFwcEFsZXJ0KTtcbiAqXG4gKiB0aGlzLm9uZVNpZ25hbC5oYW5kbGVOb3RpZmljYXRpb25SZWNlaXZlZCgpLnN1YnNjcmliZSgoKSA9PiB7XG4gKiAgLy8gZG8gc29tZXRoaW5nIHdoZW4gbm90aWZpY2F0aW9uIGlzIHJlY2VpdmVkXG4gKiB9KTtcbiAqXG4gKiB0aGlzLm9uZVNpZ25hbC5oYW5kbGVOb3RpZmljYXRpb25PcGVuZWQoKS5zdWJzY3JpYmUoKCkgPT4ge1xuICogICAvLyBkbyBzb21ldGhpbmcgd2hlbiBhIG5vdGlmaWNhdGlvbiBpcyBvcGVuZWRcbiAqIH0pO1xuICpcbiAqIHRoaXMub25lU2lnbmFsLmVuZEluaXQoKTtcbiAqIGBgYFxuICogQGludGVyZmFjZXNcbiAqIE9TTm90aWZpY2F0aW9uXG4gKiBPU0xvY2tTY3JlZW5WaXNpYmlsaXR5XG4gKiBPU0Rpc3BsYXlUeXBlXG4gKiBPU05vdGlmaWNhdGlvblBheWxvYWRcbiAqIE9TQWN0aW9uQnV0dG9uXG4gKiBPU0JhY2tncm91bmRJbWFnZUxheW91dFxuICogT1NOb3RpZmljYXRpb25PcGVuZWRSZXN1bHRcbiAqIE9TQWN0aW9uVHlwZVxuICovXG5AUGx1Z2luKHtcbiAgcGx1Z2luTmFtZTogJ09uZVNpZ25hbCcsXG4gIHBsdWdpbjogJ29uZXNpZ25hbC1jb3Jkb3ZhLXBsdWdpbicsXG4gIHBsdWdpblJlZjogJ3BsdWdpbnMuT25lU2lnbmFsJyxcbiAgcmVwbzogJ2h0dHBzOi8vZ2l0aHViLmNvbS9PbmVTaWduYWwvT25lU2lnbmFsLUNvcmRvdmEtU0RLJyxcbiAgcGxhdGZvcm1zOiBbJ0FtYXpvbiBGaXJlIE9TJywgJ0FuZHJvaWQnLCAnaU9TJywgJ1dpbmRvd3MnXSxcbn0pXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgT25lU2lnbmFsIGV4dGVuZHMgSW9uaWNOYXRpdmVQbHVnaW4ge1xuICAvKipcbiAgICogY29uc3RhbnRzIHRvIHVzZSBpbiBpbkZvY3VzRGlzcGxheWluZygpXG4gICAqIEBoaWRkZW5cbiAgICovXG4gIE9TSW5Gb2N1c0Rpc3BsYXlPcHRpb24gPSB7XG4gICAgTm9uZTogMCxcbiAgICBJbkFwcEFsZXJ0OiAxLFxuICAgIE5vdGlmaWNhdGlvbjogMixcbiAgfTtcblxuICAvKipcbiAgICogU3RhcnQgdGhlIGluaXRpYWxpemF0aW9uIHByb2Nlc3MuIE9uY2UgeW91IGFyZSBkb25lIGNvbmZpZ3VyaW5nIE9uZVNpZ25hbCwgY2FsbCB0aGUgYGVuZEluaXRgIGZ1bmN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gYXBwSWQgWW91ciBPbmVTaWduYWwgYXBwIGlkXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBnb29nbGVQcm9qZWN0TnVtYmVyICoqQU5EUk9JRCoqIC0geW91ciBHb29nbGUgcHJvamVjdCBudW1iZXI7IG9ubHkgcmVxdWlyZWQgZm9yIEFuZHJvaWQgR0NNL0ZDTSBwdXNoZXMuXG4gICAqIEByZXR1cm5zIHthbnl9XG4gICAqL1xuICBAQ29yZG92YSh7IHN5bmM6IHRydWUgfSlcbiAgc3RhcnRJbml0KGFwcElkOiBzdHJpbmcsIGdvb2dsZVByb2plY3ROdW1iZXI/OiBzdHJpbmcpOiBhbnkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsYmFjayB0byBydW4gd2hlbiBhIG5vdGlmaWNhdGlvbiBpcyByZWNlaXZlZCwgd2hldGhlciBpdCB3YXMgZGlzcGxheWVkIG9yIG5vdC5cbiAgICpcbiAgICogQHJldHVybiB7T2JzZXJ2YWJsZTxPbmVTaWduYWxSZWNlaXZlZE5vdGlmaWNhdGlvbj59XG4gICAqL1xuICBAQ29yZG92YSh7XG4gICAgb2JzZXJ2YWJsZTogdHJ1ZSxcbiAgfSlcbiAgaGFuZGxlTm90aWZpY2F0aW9uUmVjZWl2ZWQoKTogT2JzZXJ2YWJsZTxPU05vdGlmaWNhdGlvbj4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsYmFjayB0byBydW4gd2hlbiBhIG5vdGlmaWNhdGlvbiBpcyB0YXBwZWQgb24gZnJvbSB0aGUgbm90aWZpY2F0aW9uIHNoYWRlICgqKkFORFJPSUQqKikgb3Igbm90aWZpY2F0aW9uXG4gICAqIGNlbnRlciAoKippT1MqKiksIG9yIHdoZW4gY2xvc2luZyBhbiBBbGVydCBub3RpZmljYXRpb24gc2hvd24gaW4gdGhlIGFwcCAoaWYgSW5BcHBBbGVydCBpcyBlbmFibGVkIGluXG4gICAqIGluRm9jdXNEaXNwbGF5aW5nKS5cbiAgICpcbiAgICogQHJldHVybiB7T2JzZXJ2YWJsZTxPbmVTaWduYWxPcGVuZWROb3RpZmljYXRpb24+fVxuICAgKi9cbiAgQENvcmRvdmEoe1xuICAgIG9ic2VydmFibGU6IHRydWUsXG4gIH0pXG4gIGhhbmRsZU5vdGlmaWNhdGlvbk9wZW5lZCgpOiBPYnNlcnZhYmxlPE9TTm90aWZpY2F0aW9uT3BlbmVkUmVzdWx0PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqICoqaU9TKiogLSBTZXR0aW5ncyBmb3IgaU9TIGFwcHNcbiAgICpcbiAgICogQHBhcmFtIHNldHRpbmdzXG4gICAqICBrT1NTZXR0aW5nc0tleUF1dG9Qcm9tcHQ6IGJvb2xlYW4gPSB0cnVlXG4gICAqICBBdXRvIHByb21wdCB1c2VyIGZvciBub3RpZmljYXRpb24gcGVybWlzc2lvbnMuXG4gICAqXG4gICAqICBrT1NTZXR0aW5nc0tleUluQXBwTGF1bmNoVVJMOiBib29sZWFuID0gZmFsc2VcbiAgICogIExhdW5jaCBub3RpZmljYXRpb25zIHdpdGggYSBsYXVuY2ggVVJMIGFzIGFuIGluIGFwcCB3ZWJ2aWV3LlxuICAgKiBAcmV0dXJucyB7YW55fVxuICAgKi9cbiAgQENvcmRvdmEoe1xuICAgIHN5bmM6IHRydWUsXG4gICAgcGxhdGZvcm1zOiBbJ2lPUyddLFxuICB9KVxuICBpT1NTZXR0aW5ncyhzZXR0aW5nczogeyBrT1NTZXR0aW5nc0tleUF1dG9Qcm9tcHQ6IGJvb2xlYW47IGtPU1NldHRpbmdzS2V5SW5BcHBMYXVuY2hVUkw6IGJvb2xlYW4gfSk6IGFueSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIE11c3QgYmUgY2FsbGVkIGFmdGVyIGBzdGFydEluaXRgIHRvIGNvbXBsZXRlIGluaXRpYWxpemF0aW9uIG9mIE9uZVNpZ25hbC5cbiAgICpcbiAgICogQHJldHVybnMge2FueX1cbiAgICovXG4gIEBDb3Jkb3ZhKHsgc3luYzogdHJ1ZSB9KVxuICBlbmRJbml0KCk6IGFueSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFByb21wdCB0aGUgdXNlciBmb3Igbm90aWZpY2F0aW9uIHBlcm1pc3Npb25zLiBDYWxsYmFjayBmaXJlcyBhcyBzb29uIGFzIHRoZSB1c2VyIGFjY2VwdHMgb3IgZGVjbGluZXMgbm90aWZpY2F0aW9ucy5cbiAgICogQHJldHVybnMge1Byb21pc2U8Ym9vbGVhbj59XG4gICAqL1xuICBAQ29yZG92YSh7XG4gICAgcGxhdGZvcm1zOiBbJ2lPUyddLFxuICB9KVxuICBwcm9tcHRGb3JQdXNoTm90aWZpY2F0aW9uc1dpdGhVc2VyUmVzcG9uc2UoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlIGEgbGlzdCBvZiB0YWdzIHRoYXQgaGF2ZSBiZWVuIHNldCBvbiB0aGUgdXNlciBmcm9tIHRoZSBPbmVTaWduYWwgc2VydmVyLlxuICAgKlxuICAgKiAqKlF1aXJrKio6IFlvdSBtdXN0IHdhaXQgZm9yIGBnZXRUYWdzYCB0byByZXNvbHZlIGJlZm9yZSBjYWxsaW5nIGl0IGFnYWluLCBhcyB0aGUgcGx1Z2luIHdpbGwgb25seSBwcm9jZXNzIHRoZSBsYXN0IG1ldGhvZCBjYWxsIGFuZCBkaXNjYXJkIGFueSBwcmV2aW91cyBvbmVzLlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fSBSZXR1cm5zIGEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGFncyBhcmUgcmVjaWV2ZWQuXG4gICAqL1xuICBAQ29yZG92YSgpXG4gIGdldFRhZ3MoKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogTGV0cyB5b3UgcmV0cmlldmUgdGhlIE9uZVNpZ25hbCB1c2VyIGlkIGFuZCBkZXZpY2UgdG9rZW4uXG4gICAqIFlvdXIgaGFuZGxlciBpcyBjYWxsZWQgYWZ0ZXIgdGhlIGRldmljZSBpcyBzdWNjZXNzZnVsbHkgcmVnaXN0ZXJlZCB3aXRoIE9uZVNpZ25hbC5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0Pn0gUmV0dXJucyBhIFByb21pc2UgdGhhdCByZXNvbHZlcyBpZiB0aGUgZGV2aWNlIHdhcyBzdWNjZXNzZnVsbHkgcmVnaXN0ZXJlZC5cbiAgICpcbiAgICogIHVzZXJJZCB7c3RyaW5nfSBPbmVTaWduYWwgdXNlcklkIGlzIGEgVVVJRCBmb3JtYXR0ZWQgc3RyaW5nLiAodW5pcXVlIHBlciBkZXZpY2UgcGVyIGFwcClcbiAgICpcbiAgICogIHB1c2hUb2tlbiB7c3RyaW5nfSBBIHB1c2ggdG9rZW4gaXMgYSBHb29nbGUvQXBwbGUgYXNzaWduZWQgaWRlbnRpZmllcih1bmlxdWUgcGVyIGRldmljZSBwZXIgYXBwKS5cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgZ2V0SWRzKCk6IFByb21pc2U8eyB1c2VySWQ6IHN0cmluZzsgcHVzaFRva2VuOiBzdHJpbmcgfT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBUYWcgYSB1c2VyIGJhc2VkIG9uIGFuIGFwcCBldmVudCBvZiB5b3VyIGNob29zaW5nIHNvIGxhdGVyIHlvdSBjYW4gY3JlYXRlIHNlZ21lbnRzIG9uIFtvbmVzaWduYWwuY29tXShodHRwczovL29uZXNpZ25hbC5jb20vKSB0byB0YXJnZXQgdGhlc2UgdXNlcnMuXG4gICAqIFJlY29tbWVuZCB1c2luZyBzZW5kVGFncyBvdmVyIHNlbmRUYWcgaWYgeW91IG5lZWQgdG8gc2V0IG1vcmUgdGhhbiBvbmUgdGFnIG9uIGEgdXNlciBhdCBhIHRpbWUuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBLZXkgb2YgeW91ciBjaG9vc2luZyB0byBjcmVhdGUgb3IgdXBkYXRlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gVmFsdWUgdG8gc2V0IG9uIHRoZSBrZXkuIE5PVEU6IFBhc3NpbmcgaW4gYSBibGFuayBTdHJpbmcgZGVsZXRlcyB0aGUga2V5LCB5b3UgY2FuIGFsc28gY2FsbCBkZWxldGVUYWcuXG4gICAqL1xuICBAQ29yZG92YSh7IHN5bmM6IHRydWUgfSlcbiAgc2VuZFRhZyhrZXk6IHN0cmluZywgdmFsdWU6IHN0cmluZyk6IHZvaWQge31cblxuICAvKipcbiAgICogVGFnIGEgdXNlciBiYXNlZCBvbiBhbiBhcHAgZXZlbnQgb2YgeW91ciBjaG9vc2luZyBzbyBsYXRlciB5b3UgY2FuIGNyZWF0ZSBzZWdtZW50cyBvbiBbb25lc2lnbmFsLmNvbV0oaHR0cHM6Ly9vbmVzaWduYWwuY29tLykgdG8gdGFyZ2V0IHRoZXNlIHVzZXJzLlxuICAgKiBSZWNvbW1lbmQgdXNpbmcgc2VuZFRhZ3Mgb3ZlciBzZW5kVGFnIGlmIHlvdSBuZWVkIHRvIHNldCBtb3JlIHRoYW4gb25lIHRhZyBvbiBhIHVzZXIgYXQgYSB0aW1lLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gUGFzcyBhIGpzb24gb2JqZWN0IHdpdGgga2V5L3ZhbHVlIHBhaXJzIGxpa2U6IHtrZXk6IFwidmFsdWVcIiwga2V5MjogXCJ2YWx1ZTJcIn1cbiAgICovXG4gIEBDb3Jkb3ZhKHsgc3luYzogdHJ1ZSB9KVxuICBzZW5kVGFncyhqc29uOiBhbnkpOiB2b2lkIHt9XG5cbiAgLyoqXG4gICAqIERlbGV0ZXMgYSB0YWcgdGhhdCB3YXMgcHJldmlvdXNseSBzZXQgb24gYSB1c2VyIHdpdGggYHNlbmRUYWdgIG9yIGBzZW5kVGFnc2AuIFVzZSBgZGVsZXRlVGFnc2AgaWYgeW91IG5lZWQgdG8gZGVsZXRlIG1vcmUgdGhhbiBvbmUuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBLZXkgdG8gcmVtb3ZlLlxuICAgKi9cbiAgQENvcmRvdmEoeyBzeW5jOiB0cnVlIH0pXG4gIGRlbGV0ZVRhZyhrZXk6IHN0cmluZyk6IHZvaWQge31cblxuICAvKipcbiAgICogRGVsZXRlcyB0YWdzIHRoYXQgd2VyZSBwcmV2aW91c2x5IHNldCBvbiBhIHVzZXIgd2l0aCBgc2VuZFRhZ2Agb3IgYHNlbmRUYWdzYC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmdbXX0gS2V5cyB0byByZW1vdmUuXG4gICAqL1xuICBAQ29yZG92YSh7IHN5bmM6IHRydWUgfSlcbiAgZGVsZXRlVGFncyhrZXlzOiBzdHJpbmdbXSk6IHZvaWQge31cblxuICAvKipcbiAgICogQ2FsbCB0aGlzIHdoZW4geW91IHdvdWxkIGxpa2UgdG8gcHJvbXB0IGFuIGlPUyB1c2VyIHRvIGFjY2VwdCBwdXNoIG5vdGlmaWNhdGlvbnMgd2l0aCB0aGUgZGVmYXVsdCBzeXN0ZW0gcHJvbXB0LlxuICAgKiBPbmx5IHdvcmtzIGlmIHlvdSBzZXQgYGtPU1NldHRpbmdzQXV0b1Byb21wdGAgdG8gYGZhbHNlYCBpbiBgaU9TU2V0dGluZ3NgXG4gICAqL1xuICBAQ29yZG92YSh7IHN5bmM6IHRydWUgfSlcbiAgcmVnaXN0ZXJGb3JQdXNoTm90aWZpY2F0aW9ucygpOiB2b2lkIHt9XG5cbiAgLyoqXG4gICAqIFdhcm5pbmc6XG4gICAqIE9ubHkgYXBwbGllcyB0byBBbmRyb2lkIGFuZCBBbWF6b24uIFlvdSBjYW4gY2FsbCB0aGlzIGZyb20geW91ciBVSSBmcm9tIGEgYnV0dG9uIHByZXNzIGZvciBleGFtcGxlIHRvIGdpdmUgeW91ciB1c2VyJ3Mgb3B0aW9ucyBmb3IgeW91ciBub3RpZmljYXRpb25zLlxuICAgKlxuICAgKiBCeSBkZWZhdWx0IE9uZVNpZ25hbCBhbHdheXMgdmlicmF0ZXMgdGhlIGRldmljZSB3aGVuIGEgbm90aWZpY2F0aW9uIGlzIGRpc3BsYXllZCB1bmxlc3MgdGhlIGRldmljZSBpcyBpbiBhIHRvdGFsIHNpbGVudCBtb2RlLlxuICAgKiBQYXNzaW5nIGZhbHNlIG1lYW5zIHRoYXQgdGhlIGRldmljZSB3aWxsIG9ubHkgdmlicmF0ZSBsaWdodGx5IHdoZW4gdGhlIGRldmljZSBpcyBpbiBpdCdzIHZpYnJhdGUgb25seSBtb2RlLlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGZhbHNlIHRvIGRpc2FibGUgdmlicmF0ZSwgdHJ1ZSB0byByZS1lbmFibGUgaXQuXG4gICAqL1xuICBAQ29yZG92YSh7IHN5bmM6IHRydWUgfSlcbiAgZW5hYmxlVmlicmF0ZShlbmFibGU6IGJvb2xlYW4pOiB2b2lkIHt9XG5cbiAgLyoqXG4gICAqIFdhcm5pbmc6XG4gICAqIE9ubHkgYXBwbGllcyB0byBBbmRyb2lkIGFuZCBBbWF6b24uIFlvdSBjYW4gY2FsbCB0aGlzIGZyb20geW91ciBVSSBmcm9tIGEgYnV0dG9uIHByZXNzIGZvciBleGFtcGxlIHRvIGdpdmUgeW91ciB1c2VyJ3Mgb3B0aW9ucyBmb3IgeW91ciBub3RpZmljYXRpb25zLlxuICAgKlxuICAgKiBCeSBkZWZhdWx0IE9uZVNpZ25hbCBwbGF5cyB0aGUgc3lzdGVtJ3MgZGVmYXVsdCBub3RpZmljYXRpb24gc291bmQgd2hlbiB0aGUgZGV2aWNlJ3Mgbm90aWZpY2F0aW9uIHN5c3RlbSB2b2x1bWUgaXMgdHVybmVkIG9uLlxuICAgKiBQYXNzaW5nIGZhbHNlIG1lYW5zIHRoYXQgdGhlIGRldmljZSB3aWxsIG9ubHkgdmlicmF0ZSB1bmxlc3MgdGhlIGRldmljZSBpcyBzZXQgdG8gYSB0b3RhbCBzaWxlbnQgbW9kZS5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBmYWxzZSB0byBkaXNhYmxlIHNvdW5kLCB0cnVlIHRvIHJlLWVuYWJsZSBpdC5cbiAgICovXG4gIEBDb3Jkb3ZhKHsgc3luYzogdHJ1ZSB9KVxuICBlbmFibGVTb3VuZChlbmFibGU6IGJvb2xlYW4pOiB2b2lkIHt9XG5cbiAgLyoqXG4gICAqXG4gICAqIFNldHRpbmcgdG8gY29udHJvbCBob3cgT25lU2lnbmFsIG5vdGlmaWNhdGlvbnMgd2lsbCBiZSBzaG93biB3aGVuIG9uZSBpcyByZWNlaXZlZCB3aGlsZSB5b3VyIGFwcCBpcyBpbiBmb2N1cy4gQnkgZGVmYXVsdCB0aGlzIGlzIHNldCB0byBpbkFwcEFsZXJ0LCB3aGljaCBjYW4gYmUgaGVscGZ1bCBkdXJpbmcgZGV2ZWxvcG1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7RGlzcGxheVR5cGV9IGRpc3BsYXlPcHRpb25cbiAgICogQHJldHVybnMge2FueX1cbiAgICovXG4gIEBDb3Jkb3ZhKHsgc3luYzogdHJ1ZSB9KVxuICBpbkZvY3VzRGlzcGxheWluZyhkaXNwbGF5T3B0aW9uOiBPU0Rpc3BsYXlUeXBlKTogYW55IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogWW91IGNhbiBjYWxsIHRoaXMgbWV0aG9kIHdpdGggZmFsc2UgdG8gb3B0IHVzZXJzIG91dCBvZiByZWNlaXZpbmcgYWxsIG5vdGlmaWNhdGlvbnMgdGhyb3VnaCBPbmVTaWduYWwuXG4gICAqIFlvdSBjYW4gcGFzcyB0cnVlIGxhdGVyIHRvIG9wdCB1c2VycyBiYWNrIGludG8gbm90aWZpY2F0aW9ucy5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBlbmFibGVcbiAgICovXG4gIEBDb3Jkb3ZhKHsgc3luYzogdHJ1ZSB9KVxuICBzZXRTdWJzY3JpcHRpb24oZW5hYmxlOiBib29sZWFuKTogdm9pZCB7fVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGN1cnJlbnQgbm90aWZpY2F0aW9uIGFuZCBwZXJtaXNzaW9uIHN0YXRlLiBSZXR1cm5zIGEgT1NQZXJtaXNzaW9uU3Vic2NyaXB0aW9uU3RhdGUgdHlwZSBkZXNjcmliZWQgYmVsb3cuXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPE9TUGVybWlzc2lvblN1YnNjcmlwdGlvblN0YXRlPn1cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgZ2V0UGVybWlzc2lvblN1YnNjcmlwdGlvblN0YXRlKCk6IFByb21pc2U8T1NQZXJtaXNzaW9uU3Vic2NyaXB0aW9uU3RhdGU+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHtub3RpZmljYXRpb25PYmp9IFBhcmFtZXRlcnMgc2VlIFBPU1QgW2RvY3VtZW50YXRpb25dKGh0dHBzOi8vZG9jdW1lbnRhdGlvbi5vbmVzaWduYWwuY29tL3YyLjAvZG9jcy9ub3RpZmljYXRpb25zLWNyZWF0ZS1ub3RpZmljYXRpb24pXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59IFJldHVybnMgYSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgaWYgdGhlIG5vdGlmaWNhdGlvbiB3YXMgc2VuZCBzdWNjZXNzZnVsbHkuXG4gICAqL1xuICBAQ29yZG92YSgpXG4gIHBvc3ROb3RpZmljYXRpb24obm90aWZpY2F0aW9uT2JqOiBPU05vdGlmaWNhdGlvbik6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbmNlbHMgYSBzaW5nbGUgT25lU2lnbmFsIG5vdGlmaWNhdGlvbiBiYXNlZCBvbiBpdHMgQW5kcm9pZCBub3RpZmljYXRpb24gaW50ZWdlciBpZC4gVXNlIGluc3RlYWQgb2YgTm90aWZpY2F0aW9uTWFuYWdlci5jYW5jZWwoaWQpOyBvdGhlcndpc2UgdGhlIG5vdGlmaWNhdGlvbiB3aWxsIGJlIHJlc3RvcmVkIHdoZW4geW91ciBhcHAgaXMgcmVzdGFydGVkLlxuICAgKiBAcGFyYW0gbm90aWZpY2F0aW9uSWQge3N0cmluZ31cbiAgICovXG4gIEBDb3Jkb3ZhKHsgc3luYzogdHJ1ZSB9KVxuICBjYW5jZWxOb3RpZmljYXRpb24obm90aWZpY2F0aW9uSWQ6IHN0cmluZyk6IHZvaWQge31cblxuICAvKipcbiAgICogUHJvbXB0cyB0aGUgdXNlciBmb3IgbG9jYXRpb24gcGVybWlzc2lvbiB0byBhbGxvdyBnZW90YWdnaW5nIGJhc2VkIG9uIHRoZSBcIkxvY2F0aW9uIHJhZGl1c1wiIGZpbHRlciBvbiB0aGUgT25lU2lnbmFsIGRhc2hib2FyZC5cbiAgICovXG4gIEBDb3Jkb3ZhKHsgc3luYzogdHJ1ZSB9KVxuICBwcm9tcHRMb2NhdGlvbigpOiB2b2lkIHt9XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSBlbWFpbCB7c3RyaW5nfVxuICAgKi9cbiAgQENvcmRvdmEoeyBzeW5jOiB0cnVlIH0pXG4gIHN5bmNIYXNoZWRFbWFpbChlbWFpbDogc3RyaW5nKTogdm9pZCB7fVxuXG4gIC8qKlxuICAgKiBFbmFibGUgbG9nZ2luZyB0byBoZWxwIGRlYnVnIGlmIHlvdSBydW4gaW50byBhbiBpc3N1ZSBzZXR0aW5nIHVwIE9uZVNpZ25hbC5cbiAgICogVGhlIGxvZ2dpbmcgbGV2ZWxzIGFyZSBhcyBmb2xsb3dzOiAwID0gTm9uZSwgMT0gRmF0YWwsIDIgPSBFcnJvcnMsIDMgPSBXYXJuaW5ncywgNCA9IEluZm8sIDUgPSBEZWJ1ZywgNiA9IFZlcmJvc2VcbiAgICpcbiAgICogVGhlIGhpZ2hlciB0aGUgdmFsdWUgdGhlIG1vcmUgaW5mb3JtYXRpb24gaXMgc2hvd24uXG4gICAqXG4gICAqIEBwYXJhbSB7bG9nbGV2ZWx9IGNvbnRhaW5zIHR3byBwcm9wZXJ0aWVzOiBsb2dMZXZlbCAoZm9yIGNvbnNvbGUgbG9nZ2luZykgYW5kIHZpc3VhbExldmVsIChmb3IgZGlhbG9nIG1lc3NhZ2VzKVxuICAgKi9cbiAgQENvcmRvdmEoeyBzeW5jOiB0cnVlIH0pXG4gIHNldExvZ0xldmVsKGxvZ0xldmVsOiB7IGxvZ0xldmVsOiBudW1iZXI7IHZpc3VhbExldmVsOiBudW1iZXIgfSk6IHZvaWQge31cblxuICAvKipcbiAgICogRGlzYWJsZSBvciBlbmFibGUgbG9jYXRpb24gY29sbGVjdGlvbiAoRGVmYXVsdHMgdG8gZW5hYmxlZCkgaWYgeW91ciBhcHAgaGFzIGxvY2F0aW9uIHBlcm1pc3Npb24uXG4gICAqIEBwYXJhbSBzaGFyZWQge2Jvb2xlYW59XG4gICAqL1xuICBAQ29yZG92YSh7IHN5bmM6IHRydWUgfSlcbiAgc2V0TG9jYXRpb25TaGFyZWQoc2hhcmVkOiBib29sZWFuKTogdm9pZCB7fVxuXG4gIC8qKlxuICAgKiBUaGUgcGFzc2VkIGluIGZ1bmN0aW9uIHdpbGwgYmUgZmlyZWQgd2hlbiBhIG5vdGlmaWNhdGlvbiBwZXJtaXNzaW9uIHNldHRpbmcgY2hhbmdlcy5cbiAgICogVGhpcyBpbmNsdWRlcyB0aGUgZm9sbG93aW5nIGV2ZW50czpcbiAgICogLSBOb3RpZmljYXRpb24gcGVybWlzc2lvbiBwcm9tcHQgc2hvd25cbiAgICogLSBUaGUgdXNlciBhY2NlcHRpbmcgb3IgZGVjbGluaW5nIHRoZSBwZXJtaXNzaW9uIHByb21wdFxuICAgKiAtIEVuYWJsaW5nL2Rpc2FibGluZyBub3RpZmljYXRpb25zIGZvciB5b3VyIGFwcCBpbiB0aGUgZGV2aWNlIFNldHRpbmdzIGFmdGVyIHJldHVybmluZyB0byB5b3VyIGFwcC5cbiAgICogQHJldHVybiB7T2JzZXJ2YWJsZTxhbnk+fVxuICAgKi9cbiAgQENvcmRvdmEoe1xuICAgIG9ic2VydmFibGU6IHRydWUsXG4gIH0pXG4gIGFkZFBlcm1pc3Npb25PYnNlcnZlcigpOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgcGFzc2VkIGluIGZ1bmN0aW9uIHdpbGwgYmUgZmlyZWQgd2hlbiBhIG5vdGlmaWNhdGlvbiBzdWJzY3JpcHRpb24gcHJvcGVydHkgY2hhbmdlcy5cbiAgICogVGhpcyBpbmNsdWRlcyB0aGUgZm9sbG93aW5nIGV2ZW50czpcbiAgICogLSBHZXR0aW5nIGEgcHVzaCB0b2tlbiBmcm9tIEFwcGxlIC8gR29vZ2xlLlxuICAgKiAtIEdldHRpbmcgYSBwbGF5ZXIgLyB1c2VyIGlkIGZyb20gT25lU2lnbmFsXG4gICAqIC0gT25lU2lnbmFsLnNldFN1YnNjcmlwdGlvbiBpcyBjYWxsZWRcbiAgICogLSBVc2VyIGRpc2FibGVzIG9yIGVuYWJsZXMgbm90aWZpY2F0aW9uc1xuICAgKiBAcmV0dXJuIHtPYnNlcnZhYmxlPGFueT59XG4gICAqL1xuICBAQ29yZG92YSh7XG4gICAgb2JzZXJ2YWJsZTogdHJ1ZSxcbiAgfSlcbiAgYWRkU3Vic2NyaXB0aW9uT2JzZXJ2ZXIoKTogT2JzZXJ2YWJsZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogQ2xlYXJzIGFsbCBPbmVTaWduYWwgbm90aWZpY2F0aW9uc1xuICAgKi9cbiAgQENvcmRvdmEoKVxuICBzZXRFbWFpbChlbWFpbDogc3RyaW5nLCBlbWFpbEF1dGhUb2tlbj86IHN0cmluZyk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIElmIHlvdXIgYXBwIGltcGxlbWVudHMgbG9nb3V0IGZ1bmN0aW9uYWxpdHksIHlvdSBjYW4gY2FsbCBsb2dvdXRFbWFpbCB0byBkaXNzb2NpYXRlIHRoZSBlbWFpbCBmcm9tIHRoZSBkZXZpY2VcbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgbG9nb3V0RW1haWwoKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogVGhlIHBhc3NlZCBpbiBmdW5jdGlvbiB3aWxsIGJlIGZpcmVkIHdoZW4gYSBub3RpZmljYXRpb24gc3Vic2NyaXB0aW9uIHByb3BlcnR5IGNoYW5nZXMuXG4gICAqIFRoaXMgaW5jbHVkZXMgdGhlIGZvbGxvd2luZyBldmVudHM6XG4gICAqIC0gR2V0dGluZyBhIHB1c2ggdG9rZW4gZnJvbSBBcHBsZSAvIEdvb2dsZS5cbiAgICogLSBHZXR0aW5nIGEgcGxheWVyIC8gdXNlciBpZCBmcm9tIE9uZVNpZ25hbFxuICAgKiAtIE9uZVNpZ25hbC5zZXRTdWJzY3JpcHRpb24gaXMgY2FsbGVkXG4gICAqIC0gVXNlciBkaXNhYmxlcyBvciBlbmFibGVzIG5vdGlmaWNhdGlvbnNcbiAgICogQHJldHVybiB7T2JzZXJ2YWJsZTxhbnk+fVxuICAgKi9cbiAgQENvcmRvdmEoe1xuICAgIG9ic2VydmFibGU6IHRydWUsXG4gIH0pXG4gIGFkZEVtYWlsU3Vic2NyaXB0aW9uT2JzZXJ2ZXIoKTogT2JzZXJ2YWJsZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogQ2xlYXJzIGFsbCBPbmVTaWduYWwgbm90aWZpY2F0aW9uc1xuICAgKi9cbiAgQENvcmRvdmEoeyBzeW5jOiB0cnVlIH0pXG4gIGNsZWFyT25lU2lnbmFsTm90aWZpY2F0aW9ucygpOiB2b2lkIHt9XG5cbiAgLyoqXG4gICAqIEFsbG93cyB5b3UgdG8gZGVsYXkgdGhlIGluaXRpYWxpemF0aW9uIG9mIHRoZSBTREsgdW50aWwgdGhlIHVzZXIgcHJvdmlkZXMgcHJpdmFjeSBjb25zZW50LlxuICAgKiBUaGUgU0RLIHdpbGwgbm90IGJlIGZ1bGx5IGluaXRpYWxpemVkIHVudGlsIHRoZSBwcm92aWRlVXNlckNvbnNlbnQodHJ1ZSkgbWV0aG9kIGlzIGNhbGxlZC5cbiAgICogQHBhcmFtIHtib29sZWFufSByZXF1aXJlZFxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBzZXRSZXF1aXJlc1VzZXJQcml2YWN5Q29uc2VudChyZXF1aXJlZDogYm9vbGVhbik6IHZvaWQge31cblxuICAvKipcbiAgICogSWYgeW91ciBhcHBsaWNhdGlvbiBpcyBzZXQgdG8gcmVxdWlyZSB0aGUgdXNlcidzIHByaXZhY3kgY29uc2VudCwgeW91IGNhbiBwcm92aWRlIHRoaXMgY29uc2VudCB1c2luZyB0aGlzIG1ldGhvZC5cbiAgICogVW50aWwgeW91IGNhbGwgcHJvdmlkZVVzZXJDb25zZW50KHRydWUpLCB0aGUgU0RLIHdpbGwgbm90IGZ1bGx5IGluaXRpYWxpemUgYW5kIHdpbGwgbm90IHNlbmQgYW55IGRhdGEgdG8gT25lU2lnbmFsLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGdyYW50ZWRcbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgcHJvdmlkZVVzZXJDb25zZW50KGdyYW50ZWQ6IGJvb2xlYW4pOiB2b2lkIHt9XG5cbiAgLyoqXG4gICAqIEFjY2VwdHMgYSBjYWxsYmFjaywgd2hpY2ggcmV0dXJucyBhIGJvb2xlYW4gdmFyaWFibGUgaW5kaWNhdGluZyBpZiB0aGUgdXNlciBoYXMgZ2l2ZW4gcHJpdmFjeSBjb25zZW50IHlldC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgdXNlclByb3ZpZGVkUHJpdmFjeUNvbnNlbnQoY2FsbGJhY2s6IEZ1bmN0aW9uKTogdm9pZCB7fVxuXG4gIC8qKlxuICAgKiBBbGxvd3MgeW91IHRvIHVzZSB5b3VyIG93biBzeXN0ZW0ncyB1c2VyIElEJ3MgdG8gc2VuZCBwdXNoIG5vdGlmaWNhdGlvbnMgdG8geW91ciB1c2Vycy5cbiAgICogVG8gdGllIGEgdXNlciB0byBhIGdpdmVuIHVzZXIgSUQsIHlvdSBjYW4gdXNlIHRoaXMgbWV0aG9kLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZXh0ZXJuYWxJZFxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBzZXRFeHRlcm5hbFVzZXJJZChleHRlcm5hbElkOiBzdHJpbmcpOiB2b2lkIHt9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgd2hhdGV2ZXIgd2FzIHNldCBhcyB0aGUgY3VycmVudCB1c2VyJ3MgZXh0ZXJuYWwgdXNlciBJRC5cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgcmVtb3ZlRXh0ZXJuYWxVc2VySWQoKTogdm9pZCB7fVxufVxuIl19
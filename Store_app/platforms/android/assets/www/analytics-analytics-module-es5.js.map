{"version":3,"sources":["webpack:///src/app/pages/analytics/analytics.page.html","webpack:///src/app/pages/analytics/analytics-routing.module.ts","webpack:///src/app/pages/analytics/analytics.module.ts","webpack:///src/app/pages/analytics/analytics.page.scss","webpack:///src/app/pages/analytics/analytics.page.ts"],"names":["routes","path","component","AnalyticsPageRoutingModule","imports","forChild","exports","AnalyticsPageModule","declarations","AnalyticsPage","util","api","printService","allOrders","storeOrder","totalAmount","commisionAmount","toPay","totalAmountsFromOrder","storename","store","name","storecommission","parseFloat","commission","from","to","format","param","sid","localStorage","getItem","start","utc","end","console","log","show","apiCalled","post","subscribe","data","hide","status","length","total","forEach","element","x","JSON","parse","e","orders","date_time","filter","store_id","info","calc","variations","id","undefined","discount","size","variant","items","quantiy","price","original_price","sell_price","selected","push","setTimeout","percentage","num","per","totalPrice","toFixed","error","errorToast","getString","content","invoiceTicket","nativeElement","innerHTML","options","duplex","print","then","date","read","selector","template"],"mappings":"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","file":"analytics-analytics-module-es5.js","sourcesContent":["export default \"<!-- \\n   Authors : initappz (Rahul Jograna)\\n  Website : https://initappz.com/\\n  App Name : ionic 5 groceryee app\\n  Created : 10-Sep-2020\\n  This App Template Source code is licensed as per the\\n  terms found in the Website https://initappz.com/license\\n  Copyright and Good Faith Purchasers © 2020-present initappz.\\n -->\\n<ion-header *ngIf=\\\"!util.appClosed\\\">\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-title> {{util.getString('Analytics')}} </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n<app-closed *ngIf=\\\"util.appClosed\\\"></app-closed>\\n<ion-content class=\\\"ion-padding\\\" *ngIf=\\\"!util.appClosed\\\">\\n  <ion-item>\\n    <ion-label> {{util.getString('From Date')}} </ion-label>\\n    <ion-datetime display-format=\\\"YYYY-MM-DD\\\" mode=\\\"md\\\" [(ngModel)]=\\\"from\\\"></ion-datetime>\\n  </ion-item>\\n  <ion-item>\\n    <ion-label> {{util.getString('To Date')}} </ion-label>\\n    <ion-datetime display-format=\\\"YYYY-MM-DD\\\" mode=\\\"md\\\" [(ngModel)]=\\\"to\\\"></ion-datetime>\\n  </ion-item>\\n  <ion-row>\\n    <ion-col size=\\\"6\\\">\\n      <ion-button (click)=\\\"getStats()\\\" expand=\\\"block\\\" fill=\\\"outline\\\" size=\\\"small\\\">\\n        {{util.getString('Get Stats')}}\\n      </ion-button>\\n    </ion-col>\\n    <ion-col size=\\\"6\\\" *ngIf=\\\"from && to && storeOrder?.length\\\">\\n      <ion-button (click)=\\\"print()\\\" expand=\\\"block\\\" fill=\\\"clear\\\" size=\\\"small\\\">\\n        {{util.getString('Print')}}\\n      </ion-button>\\n    </ion-col>\\n  </ion-row>\\n  <div *ngIf=\\\"from && to && storeOrder?.length && apiCalled\\\" #invoiceTicket>\\n    <h4 style=\\\"text-align: center;color: #7ec6aa;font-size: 14px;font-weight: bold;\\\">Groceryee Full App </h4>\\n    <p style=\\\"text-align: center;color: #ED7669;font-size: 12px;\\\">{{getDate(from)}} to {{getDate(to)}}</p>\\n    <p style=\\\"text-align: right;font-weight: bold;margin: 0px !important;color: #7EC6AA;font-size: 12px;\\\">Groceryee Full\\n      App</p>\\n    <p style=\\\"text-align: right;font-weight: bold;margin: 0px !important;font-size: 12px;\\\">Havamahel Palace Road\\n      Palitana, <br>\\n      Bhavnagar\\n      364270</p>\\n    <p style=\\\"text-align: right;font-weight: bold;margin: 0px !important;font-size: 12px;\\\">info@groceryee.com</p>\\n    <p style=\\\"text-align: right;font-weight: bold;margin: 0px !important;font-size: 12px;\\\">9426585554</p>\\n    <p style=\\\"text-align: left; font-weight: bold;color: #7EC6AA;font-size: 12px;\\\">{{today()}}</p>\\n    <ion-row>\\n      <ion-col size=\\\"3\\\"></ion-col>\\n      <ion-col size=\\\"5\\\">\\n        <p\\n          style=\\\"text-align: right;font-weight: bold;margin: 0px !important;color: #7EC6AA;font-size: 12px;font-weight: bold;;\\\">\\n          Total</p>\\n        <p\\n          style=\\\"text-align: right;font-weight: bold;margin: 0px !important;color: #7EC6AA;;font-size: 12px;font-weight: bold;\\\">\\n          {{util.getString('Commission')}}\\n        </p>\\n        <p\\n          style=\\\"text-align: right;font-weight: bold;margin: 0px !important;color: #7EC6AA;font-size: 12px;font-weight: bold;;\\\">\\n          {{util.getString('Amount Received')}}\\n        </p>\\n      </ion-col>\\n      <ion-col size=\\\"4\\\">\\n        <p style=\\\"color: black !important;margin: 0px !important;text-align: right;font-size: 12px;font-weight: bold;\\\">\\n          {{util.currecny}}\\n          {{totalAmount}}\\n        </p>\\n        <p style=\\\"color: black !important; margin: 0px !important;text-align: right;font-size: 12px;font-weight: bold;\\\">\\n          {{util.currecny}}\\n          {{commisionAmount}}\\n        </p>\\n        <p style=\\\"color: black !important;margin: 0px !important;text-align: right;font-size: 12px;font-weight: bold;\\\">\\n          {{util.currecny}}\\n          {{toPay}}</p>\\n      </ion-col>\\n    </ion-row>\\n    <table class=\\\"table\\\" style=\\\"font-size: 10px;width: 100%;text-align: center;\\\">\\n      <thead>\\n        <tr class=\\\"text-uppercase\\\" style=\\\"color:#7ec6aa ;\\\">\\n          <th> {{util.getString('Id')}} </th>\\n          <th> {{util.getString('Ordered on')}} </th>\\n          <th> {{util.getString('Items')}} </th>\\n          <th> {{util.getString('Total')}} </th>\\n          <th> {{util.getString('Commission')}} </th>\\n        </tr>\\n      </thead>\\n      <tbody>\\n        <tr *ngFor=\\\"let item of storeOrder\\\" style=\\\"background-color: #F5F8FA;\\\">\\n          <td>#{{item.id}}</td>\\n          <td>{{item.date_time}}</td>\\n          <td>\\n            <div style=\\\"width: 120px !important; white-space: pre-wrap;\\\">\\n              <span *ngFor=\\\"let orders of item.orders;let i =index;\\\">\\n                {{orders.name}} <span *ngIf=\\\"item.orders.length -1 !== i\\\">,</span>\\n              </span>\\n            </div>\\n          </td>\\n\\n          <td style=\\\"font-size: 8px;font-weight: bold;\\\"> {{util.currecny}} {{item.grand_total}}</td>\\n          <td style=\\\"font-size: 8px;font-weight: bold;\\\">{{util.currecny}}{{getCommisions(item.grand_total)}}</td>\\n        </tr>\\n      </tbody>\\n    </table>\\n\\n  </div>\\n</ion-content>\";","/*\n  Authors : initappz (Rahul Jograna)\n  Website : https://initappz.com/\n  App Name : ionic 5 groceryee app\n  Created : 10-Sep-2020\n  This App Template Source code is licensed as per the\n  terms found in the Website https://initappz.com/license\n  Copyright and Good Faith Purchasers © 2020-present initappz.\n*/\nimport { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AnalyticsPage } from './analytics.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AnalyticsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AnalyticsPageRoutingModule { }\n","/*\n  Authors : initappz (Rahul Jograna)\n  Website : https://initappz.com/\n  App Name : ionic 5 groceryee app\n  Created : 10-Sep-2020\n  This App Template Source code is licensed as per the\n  terms found in the Website https://initappz.com/license\n  Copyright and Good Faith Purchasers © 2020-present initappz.\n*/\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AnalyticsPageRoutingModule } from './analytics-routing.module';\n\nimport { AnalyticsPage } from './analytics.page';\nimport { ComponentsModule } from 'src/app/components/components.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    AnalyticsPageRoutingModule,\n    ComponentsModule\n  ],\n  declarations: [AnalyticsPage]\n})\nexport class AnalyticsPageModule { }\n","export default \"@charset \\\"UTF-8\\\";\\n/*\\n  Authors : initappz (Rahul Jograna)\\n  Website : https://initappz.com/\\n  App Name : ionic 5 groceryee app\\n  Created : 10-Sep-2020\\n  This App Template Source code is licensed as per the\\n  terms found in the Website https://initappz.com/license\\n  Copyright and Good Faith Purchasers © 2020-present initappz.\\n*/\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvYW5hbHl0aWNzL2FuYWx5dGljcy5wYWdlLnNjc3MiLCIvaG9tZS9hbmRyZXcvRG93bmxvYWRzL3R3b3plL2lvbmljNUdyb2NlcnllZUFwcEZ1bGxfVjcvQXBwX2NvZGUvU3RvcmVfYXBwL3NyYy9hcHAvcGFnZXMvYW5hbHl0aWNzL2FuYWx5dGljcy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsZ0JBQWdCO0FDQWhCOzs7Ozs7OztDQUFBIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvYW5hbHl0aWNzL2FuYWx5dGljcy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAY2hhcnNldCBcIlVURi04XCI7XG4vKlxuICBBdXRob3JzIDogaW5pdGFwcHogKFJhaHVsIEpvZ3JhbmEpXG4gIFdlYnNpdGUgOiBodHRwczovL2luaXRhcHB6LmNvbS9cbiAgQXBwIE5hbWUgOiBpb25pYyA1IGdyb2NlcnllZSBhcHBcbiAgQ3JlYXRlZCA6IDEwLVNlcC0yMDIwXG4gIFRoaXMgQXBwIFRlbXBsYXRlIFNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIGFzIHBlciB0aGVcbiAgdGVybXMgZm91bmQgaW4gdGhlIFdlYnNpdGUgaHR0cHM6Ly9pbml0YXBwei5jb20vbGljZW5zZVxuICBDb3B5cmlnaHQgYW5kIEdvb2QgRmFpdGggUHVyY2hhc2VycyDCqSAyMDIwLXByZXNlbnQgaW5pdGFwcHouXG4qLyIsIi8qXG4gIEF1dGhvcnMgOiBpbml0YXBweiAoUmFodWwgSm9ncmFuYSlcbiAgV2Vic2l0ZSA6IGh0dHBzOi8vaW5pdGFwcHouY29tL1xuICBBcHAgTmFtZSA6IGlvbmljIDUgZ3JvY2VyeWVlIGFwcFxuICBDcmVhdGVkIDogMTAtU2VwLTIwMjBcbiAgVGhpcyBBcHAgVGVtcGxhdGUgU291cmNlIGNvZGUgaXMgbGljZW5zZWQgYXMgcGVyIHRoZVxuICB0ZXJtcyBmb3VuZCBpbiB0aGUgV2Vic2l0ZSBodHRwczovL2luaXRhcHB6LmNvbS9saWNlbnNlXG4gIENvcHlyaWdodCBhbmQgR29vZCBGYWl0aCBQdXJjaGFzZXJzIMKpIDIwMjAtcHJlc2VudCBpbml0YXBwei5cbiovIl19 */\";","/*\n  Authors : initappz (Rahul Jograna)\n  Website : https://initappz.com/\n  App Name : ionic 5 groceryee app\n  Created : 10-Sep-2020\n  This App Template Source code is licensed as per the\n  terms found in the Website https://initappz.com/license\n  Copyright and Good Faith Purchasers © 2020-present initappz.\n*/\nimport { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\nimport { UtilService } from 'src/app/services/util.service';\nimport { ApiService } from 'src/app/services/api.service';\nimport { Printer, PrintOptions } from '@ionic-native/printer/ngx';\nimport * as moment from 'moment';\n@Component({\n  selector: 'app-analytics',\n  templateUrl: './analytics.page.html',\n  styleUrls: ['./analytics.page.scss'],\n})\nexport class AnalyticsPage implements OnInit {\n  @ViewChild('invoiceTicket', { read: ElementRef }) private invoiceTicket: ElementRef;\n  storecommission: any;\n  from: any;\n  to: any;\n  allOrders: any[] = [];\n  storeOrder: any[] = [];\n  totalAmount: any = 0;\n  commisionAmount: any = 0;\n  toPay: any = 0;\n  apiCalled: boolean;\n  storename: any;\n\n  totalAmountsFromOrder: any = 0;\n  constructor(\n    public util: UtilService,\n    public api: ApiService,\n    private printService: Printer,\n  ) {\n\n  }\n\n  ngOnInit() {\n  }\n\n  getStats() {\n    this.storename = this.util.store.name;\n    this.storecommission = parseFloat(this.util.store.commission);\n    if (this.from && this.to) {\n      this.from = moment(this.from).format('YYYY-MM-DD');\n      this.to = moment(this.to).format('YYYY-MM-DD');\n      const param = {\n        sid: localStorage.getItem('uid'),\n        start: moment(this.from, 'YYYY-MM-DD HH:mm A').utc(false).format('YYYY-MM-DD HH:mm'),\n        end: moment(this.to, 'YYYY-MM-DD HH:mm A').utc(false).format('YYYY-MM-DD HH:mm'),\n      };\n      console.log(param);\n      this.util.show();\n      this.apiCalled = false;\n      this.storeOrder = [];\n      this.api.post('orders/storeStats', param).subscribe((data: any) => {\n        this.apiCalled = true;\n        this.util.hide();\n        console.log(data);\n        // if (data && data.status === 200 && data.data.length) {\n        //   data.data.forEach(element => {\n        //     element.orders = JSON.parse(element.orders);\n        //     element.date_time = moment(element.date_time).format('YYYY-MM-DD');\n        //   });\n        //   let total = 0;\n        //   data.data.forEach(async (element) => {\n        //     element.orders = await element.orders.filter(x => x.store_id === localStorage.getItem('uid'));\n        //     const info = JSON.parse(element.status);\n        //     await element.orders.forEach(calc => {\n        //       if (calc.sell_price === '0.00') {\n        //         total = total + parseFloat(calc.original_price);\n        //       } else {\n        //         total = total + parseFloat(calc.sell_price);\n        //       }\n        //     });\n        //     const selected = await info.filter(x => x.id === localStorage.getItem('uid'));\n        //     if (selected && selected.length) {\n        //       if (selected[0].status === 'delivered') {\n        //         this.storeOrder.push(element);\n        //       }\n        //     }\n        //   });\n        //   setTimeout(() => {\n        //     function percentage(num, per) {\n        //       return (num / 100) * per;\n        //     }\n        //     console.log(this.storeOrder);\n        //     console.log(total, this.storecommission);\n        //     const totalPrice = percentage(total, parseFloat(this.storecommission));\n        //     console.log('commistion=====>>>>>', totalPrice.toFixed(2));\n        //     this.commisionAmount = totalPrice.toFixed(2);\n        //     this.totalAmount = total;\n        //     this.toPay = this.commisionAmount;\n        //   }, 1000);\n\n        // }\n\n        if (data && data.status === 200 && data.data.length) {\n          let total = 0;\n          data.data.forEach(async (element) => {\n            if (((x) => { try { JSON.parse(x); return true; } catch (e) { return false } })(element.orders)) {\n              element.orders = JSON.parse(element.orders);\n              element.date_time = moment(element.date_time).format('dddd, MMMM Do YYYY');\n              element.orders = await element.orders.filter(x => x.store_id === localStorage.getItem('uid'));\n              if (((x) => { try { JSON.parse(x); return true; } catch (e) { return false } })(element.status)) {\n                const info = JSON.parse(element.status);\n                await element.orders.forEach(calc => {\n                  if (calc.variations && calc.variations !== '' && typeof calc.variations === 'string') {\n                    console.log('strings', calc.id);\n                    calc.variations = JSON.parse(calc.variations);\n                    console.log(calc['variant']);\n                    if (calc[\"variant\"] === undefined) {\n                      calc['variant'] = 0;\n                    }\n                  }\n                  if (calc && calc.discount === '0') {\n                    if (calc.size === '1' || calc.size === 1) {\n                      if (calc.variations[0].calc[calc.variant].discount && calc.variations[0].items[calc.variant].discount !== 0) {\n                        total = total + (parseFloat(calc.variations[0].items[calc.variant].discount) * calc.quantiy);\n                      } else {\n                        total = total + (parseFloat(calc.variations[0].items[calc.variant].price) * calc.quantiy);\n                      }\n                    } else {\n                      total = total + (parseFloat(calc.original_price) * calc.quantiy);\n                    }\n                  } else {\n                    if (calc.size === '1' || calc.size === 1) {\n                      if (calc.variations[0].items[calc.variant].discount && calc.variations[0].items[calc.variant].discount !== 0) {\n                        total = total + (parseFloat(calc.variations[0].items[calc.variant].discount) * calc.quantiy);\n                      } else {\n                        total = total + (parseFloat(calc.variations[0].items[calc.variant].price) * calc.quantiy);\n                      }\n                    } else {\n                      total = total + (parseFloat(calc.sell_price) * calc.quantiy);\n                    }\n                  }\n                });\n                const selected = await info.filter(x => x.id === localStorage.getItem('uid'));\n                if (selected && selected.length) {\n                  if (selected[0].status === 'delivered') {\n                    this.storeOrder.push(element);\n                  }\n                }\n              }\n            }\n          });\n\n          setTimeout(() => {\n            function percentage(num, per) {\n              return (num / 100) * per;\n            }\n            console.log(this.storeOrder);\n            console.log(total, this.storecommission);\n            const totalPrice = percentage(total, parseFloat(this.storecommission));\n            console.log('commistion=====>>>>>', totalPrice.toFixed(2));\n            this.commisionAmount = totalPrice.toFixed(2);\n            this.totalAmount = total;\n            this.toPay = this.commisionAmount;\n          }, 1000);\n\n        }\n      }, error => {\n        this.util.hide();\n        console.log(error);\n        this.apiCalled = true;\n        this.util.errorToast(this.util.getString('Something went wrong'));\n      });\n    } else {\n      this.util.errorToast(this.util.getString('All Fields are required'));\n    }\n  }\n\n  print() {\n    const content = this.invoiceTicket.nativeElement.innerHTML;\n    console.log('content', content);\n    const options: PrintOptions = {\n      name: 'Groceryee App Summary',\n      duplex: false,\n    };\n    this.printService.print(content, options).then((data) => {\n      console.log(data);\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  today() {\n    return moment().format('ll');\n  }\n  getDate(date) {\n    return moment(date).format('ll');\n  }\n\n  getCommisions(total) {\n    return ((parseFloat(total) * this.storecommission) / 100).toFixed(2);\n  }\n}\n"]}